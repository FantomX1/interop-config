<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<meta name="HandheldFriendly" content="True"/>
<title>API</title>
    <link rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/cerulean/bootstrap.min.css">
<link rel="stylesheet"
      href="https://tobiju.github.io/share/prismjs/prism-ghcolors.css"/>
<link rel="stylesheet"
      href="https://tobiju.github.io/share/prismjs/prism-linenumbers.css"/>
<style>
    body, html {
        height: 100%;
        padding-top: 36px;
        position: relative;
    }

    img {
        max-width: 100%;
    }

    .highlight {
        background: #FFFF88;
    }

    .page-wrapper {
        min-height: 100%;
        padding-bottom: 170px;
        position: relative;
    }

    .box-header {
        position: relative;
    }

    /* Header Section */
    header {
        background: white;
        color: black;
        font-size: 16px;
        font-weight: 300;
    }

    h1:first-child {
        margin-top: 0;
    }

    /* anchor link will be displayed after the static top nav */
    h1:before,
    h2:before,
    h3:before,
    h4:before,
    h5:before,
    h6:before {
        display: block;
        content: " ";
        margin-top: -64px;
        height: 64px;
        visibility: hidden;
    }

    .navbar-brand {
        padding: 0;
    }

    .navbar-brand img {
        max-height: 100%;
    }

    /* Content Section */
    #content {
        margin-bottom: 17px;
        font-size: 17px;
        min-height: 200px;
    }

    .breadcrumb {
        position: relative;
        z-index: 999;
    }

    .links {
        background: #f8f8f8;
        border-top: 1px solid #e5e5e5;
        border-bottom: 1px solid #e5e5e5;
        padding: 16px 0;
    }

    .links .prev {
        text-align: left;
    }

    .links .parent {
        text-align: center;
    }

    .links .next {
        text-align: right;
    }

    /* Search */
    .form-search {
        position: absolute;
        right: 0;
        top: 0;
        z-index: 999;
    }

    @media (max-width: 767px) {
        .form-search {
            position: relative;
            margin-top: 0;
        }
    }

    .form-search .glyphicon-search {
        position: absolute;
        right: 24px;
        top: 8px;
    }

    @media (max-width: 767px) {
        .form-search .glyphicon-search {
            top: 18px;
        }
    }

    .form-search .form-control {
        border: 0;
        width: 80px;
    }

    @media (max-width: 767px) {
        .form-search .form-control {
            width: 100% !important;
        }
    }

    .form-search .list-search-results {
        position: relative;
    }

    .form-search .list-search-results ul {
        background: #eee;
        border: 1px solid inherit;
        list-style: none;
        max-height: 300px;
        overflow: auto;
        padding: 0;
        position: absolute;
        width: 100%;
        z-index: 999;
    }

    .form-search .list-search-results ul li:nth-child(even) {
        background: rgba(255, 255, 255, 0.3)
    }

    .form-search .list-search-results ul li.selected {
        background: #ccc;
    }

    .form-search .list-search-results ul li a {
        display: block;
        padding: 4px 8px;
    }

    /* TOC */
    .list-toc .list-group-item {
        background: 0 none;
        position: relative;
        font-weight: bold;
        padding: 0;
    }

    .list-toc .list-group-item .row {
        padding: 7px 0;
    }

    .list-toc .list-group-item .text-number {
        padding-left: 10px;
    }

    .list-toc .list-toc-nested .list-group-item {
        font-weight: normal;
        border: 0 none !important;
    }

    .list-toc .list-toc-nested {
        margin-bottom: 0;
        padding-bottom: 10px;
    }

    .list-toc .list-group-item .bbt-toc-toggle {
        display: block;
        position: absolute;
        top: 5px;
        right: 10px;
        font-weight: normal;
    }

    .list-toc .list-group-item .bbt-toc-toggle:before {
        content: "";
        display: block;
    }

    .list-toc .list-group-item .bbt-toc-toggle.collapsed:before {
        content: "";
        display: block;
    }

    .list-toc > li:nth-child(2n+1) {
        background: rgba(0, 0, 0, 0.03);
    }

    .bbt-theme-cyborg .list-toc > li:nth-child(2n+1),
    .bbt-theme-darkly .list-toc > li:nth-child(2n+1),
    .bbt-theme-slate .list-toc > li:nth-child(2n+1),
    .bbt-theme-superhero .list-toc > li:nth-child(2n+1) {
        background: rgba(255, 255, 255, 0.05);
    }

    .list-toc .list-group-item {
        border-bottom: 0 none;
        border-left: 0 none;
        border-right: 0 none;
        font-size: inherit;
    }

    .list-toc .list-group-item:first-child {
        border-top-right-radius: 0;
        border-top-left-radius: 0;
    }

    .list-toc .list-group-item:last-child {
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }

    /* Left navigation */
    .nav-left ul li a {
        padding-top: 3px;
        padding-bottom: 3px;
        border-left: 1px solid transparent;
    }

    .nav-left ul li.active a,
    .nav-left ul li a:hover {
        background: none !important;
        color: inherit;
        border-color: inherit;
    }

    .navbar-top {
        position: relative;
    }

    .affix {
        top: 60px;
    }

    .badge {
        border-radius: 4px;
        padding: 5px;
    }

    /* Footer Section */
    footer {
        color: black;
        background: white;
        width: 100%;
        position: absolute;
        bottom: 0;
    }

    footer #copyright {
        padding: 30px;
        text-align: center;
        color: #444;
    }

    footer #copyright p {
        margin: 0;
    }

    footer #copyright span a {
        color: white;
    }

    /* Top Navigation */
    @media (max-width: 767px) {
        ul.navbar-nav {
            margin: 0 -15px
        }

        ul.navbar-nav li {
            border-radius: 0;
        }

        ul.navbar-nav li ul {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 0;
            box-shadow: none;
            display: block;
            float: none;
            left: auto;
            padding: 0;
            position: static;
        }

        ul.navbar-nav li ul li a {
            padding: 8px 30px;
        }

        ul.navbar-nav li ul li ul li a {
            padding: 6px 40px;
        }
    }

    @media (min-width: 768px) {

        ul.navbar-nav li {
            display: block;
            position: relative;
            float: left;
        }

        ul.navbar-nav li ul {
            display: none;
        }

        ul.navbar-nav li a {
            display: block;
        }

        ul.navbar-nav li:hover > ul {
            display: block;
            position: absolute;
        }

        ul.navbar-nav li:hover li {
            float: none;
        }

        ul.navbar-nav ul ul {
            left: 100%;
            top: 0;
        }
    }
</style>
</head>
    <body data-spy="scroll" data-target="#sideNav" data-offset="50" class="bbt-theme-cerulean">
<div class="page-wrapper">
    <header>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="box-header container">
        <form class="form-search navbar-form navbar-right" role="search">
            <div class="form-group">
                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                <input type="text" placeholder="Search" class="js-search-input form-control">
                <div class="js-search-results"></div>
            </div>
        </form>

        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#js-navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
                    </div>

        <div class="collapse navbar-collapse" id="js-navbar-collapse">


    <ul class="nav navbar-nav">
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/getting-started/">Getting Started</a>

    <ul class="dropdown-menu">
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/getting-started/overview.html">Overview</a>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/getting-started/quick-Start.html">Quick Start</a>

    </li>
            </ul>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/reference/">Reference</a>

    <ul class="dropdown-menu">
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/reference/api.html">API</a>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/reference/examples.html">Examples</a>

    </li>
            </ul>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/contribute/">Contribute</a>

    <ul class="dropdown-menu">
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/contribute/contributing.html">Contributing</a>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/contribute/readme-git.html">Using GIT</a>

    </li>
                        <li>
    <a href="https://sandrokeil.github.io/interop-config/contribute/changelog.html">Changelog</a>

    </li>
            </ul>

    </li>
            </ul>

        </div>
    </div>
</nav>
</header>
<div class="container">
    <ol class="breadcrumb">
                        <li><a href="https://sandrokeil.github.io/interop-config/">interop-config</a></li>
                                <li><a href="https://sandrokeil.github.io/interop-config/reference/">Reference</a></li>
                                <li class="active">API</li>
            </ol>
    <div class="row">

                <div class="col-md-3">
            <nav class="nav-left hidden-xs hidden-sm" id="sideNav">
    <ul class="nav nav-stacked" data-spy="affix" data-offset-top="59" role="tablist">
                                <li>
                <a href="#2-1" title="API">API</a>
            </li>
                                <li>
                <a href="#2-1-1" title="RequiresConfig&#x20;Interface">RequiresConfig Interface</a>
            </li>
                                                                                <li>
                <a href="#2-1-2" title="RequiresMandatoryOptions&#x20;Interface">RequiresMandatoryOptions...</a>
            </li>
                                            <li>
                <a href="#2-1-3" title="ProvidesDefaultOptions&#x20;Interface">ProvidesDefaultOptions I...</a>
            </li>
                                            <li>
                <a href="#2-1-4" title="RequiresConfigId">RequiresConfigId</a>
            </li>
                                <li>
                <a href="#2-1-5" title="ConfigurationTrait">ConfigurationTrait</a>
            </li>
                        </ul>
</nav>
        </div>
                <div class="col-md-9">
<h1 id="2-1">2.1. API</h1>
<p>This file describes the classes of this package. All interfaces can be combined. Don't panic, the interfaces are
quite easy and the <code>ConfigurationTrait</code>, which is a concrete implementation, has full support of those interfaces. You
need only one interface called <code>RequiresConfig</code> to start and then you can implement the others if they are needed.</p>
<ul>
<li>
<code>RequiresConfig</code> Interface</li>
<li>
<code>RequiresConfigId</code> Interface</li>
<li>
<code>RequiresMandatoryOptions</code> Interface</li>
<li>
<code>ProvidesDefaultOptions</code> Interface</li>
</ul>
<h2 id="2-1-1">2.1.1. RequiresConfig Interface</h2>
<p>The <code>RequiresConfig</code> interface exposes three methods: <code>dimensions</code>, <code>canRetrieveOptions</code> and <code>options</code>.</p>
<h3 id="2-1-1-1">2.1.1.1. dimensions()</h3>
<pre><code class="language-php">    public function dimensions() : []
</code></pre>
<p>The <code>dimensions</code> method has no parameters and MUST return an array. The values (used as key names) of the array are used
as the depth of the configuration to retrieve options. Two values means a configuration depth of two. An empty array is
valid.</p>
<h3 id="2-1-1-2">2.1.1.2. canRetrieveOptions()</h3>
<pre><code class="language-php">    public function canRetrieveOptions($config) : bool
</code></pre>
<p>Checks if options are available depending on provided dimensions and checks that the retrieved options are an array or
have implemented \ArrayAccess.</p>
<h3 id="2-1-1-3">2.1.1.3. options()</h3>
<pre><code class="language-php">    public function options($config) : []
</code></pre>
<p>The <code>options</code> method takes one mandatory parameter: a configuration array. It MUST be an array or an object which implements the
<code>ArrayAccess</code> interface. A call to <code>options</code> returns the configuration depending on provided dimensions of the
class or throws an exception if the parameter is invalid or if the configuration is missing or if a mandatory option is missing.</p>
<p>If the <code>ProvidesDefaultOptions</code> interface is implemented, these options MUST be overridden by the provided config.</p>
<h4 id="2-1-1-3-1">2.1.1.3.1. Exceptions</h4>
<p>Exceptions directly thrown by the <code>options</code> method MUST implement the <code>Interop\Config\Exception\ExceptionInterface</code>.</p>
<p>If the configuration parameter is not an array or not an object which implements the <code>ArrayAccess</code> interface the method
SHOULD throw a <code>Interop\Config\Exception\InvalidArgumentException</code>.</p>
<p>If a key which is returned from <code>dimensions</code> is not set under the previous dimensions key in the configuration parameter,
the method SHOULD throw a <code>Interop\Config\Exception\OptionNotFoundException</code>.</p>
<p>If a value from the configuration based on dimensions is not an array or an object which has <code>\ArrayAccess</code> implemented,
the method SHOULD throw a <code>Interop\Config\Exception\UnexpectedValueException</code>.</p>
<p>If the class implements the <code>RequiresMandatoryOptions</code> interface and if a mandatory option from <code>mandatoryOptions</code> is not set
in the options array which was retrieved from the configuration parameter before, the method SHOULD throw a
<code>Interop\Config\Exception\MandatoryOptionNotFoundException</code>.</p>
<p>If the retrieved options are not of type array or \ArrayAccess the method SHOULD throw a <code>Interop\Config\Exception\UnexpectedValueException</code>.</p>
<h2 id="2-1-2">2.1.2. RequiresMandatoryOptions Interface</h2>
<p>The <code>RequiresMandatoryOptions</code> interface exposes one method: <code>mandatoryOptions</code></p>
<h3 id="2-1-2-1">2.1.2.1. mandatoryOptions()</h3>
<pre><code class="language-php">    public function mandatoryOptions() : string[]
</code></pre>
<p>The <code>mandatoryOptions</code> method has no parameters and MUST return an array of strings which represents the list of mandatory
options. This array can have a multiple depth.</p>
<h2 id="2-1-3">2.1.3. ProvidesDefaultOptions Interface</h2>
<p>The <code>DefaultOptions</code> interface exposes one method: <code>defaultOptions</code></p>
<h3 id="2-1-3-1">2.1.3.1. defaultOptions()</h3>
<pre><code class="language-php">    public function defaultOptions() : []
</code></pre>
<p>The <code>defaultOptions</code> method has no parameters and MUST return an key-value array where the key is the option name and
the value is the default value for this option. This array can have a multiple depth.
The return value MUST be compatible with the PHP function <code>array_replace_recursive</code>.</p>
<h2 id="2-1-4">2.1.4. RequiresConfigId</h2>
<p>The <code>RequiresConfigId</code> is only a marker interface and has no methods. It marks the factory that multiple instances are
supported. The <code>ConfigurationTrait</code> has an optional parameter <code>$configId</code> implemented for the methods of <code>RequiresConfig</code>.
So it is full supported.</p>
<h2 id="2-1-5">2.1.5. ConfigurationTrait</h2>
<p>The <code>ConfigurationTrait</code> implements the functions of <code>RequiresConfig</code> interface and has support for
<code>ProvidesDefaultOptions</code>, <code>RequiresMandatoryOptions</code> and <code>RequiresConfigId</code> interfaces if the the class has they implemented.</p>
<p>Additional it has one more method <code>optionsWithFallback</code> to reduce boilerplate code.</p>
<h3 id="2-1-5-1">2.1.5.1. optionsWithFallback()</h3>
<pre><code class="language-php">    public function optionsWithFallback($config) : []
</code></pre>
<p>Checks if options can be retrieved from config and if not, default options (<code>ProvidesDefaultOptions</code> interface) or an empty array will be returned.</p>
        </div>
    </div>
</div>

<footer>
    <div class="links">
        <div class="container">
            <div class="row">
                <div class="prev col-xs-6">
                                            <a href="https://sandrokeil.github.io/interop-config/reference/">Previous</a>                                    </div>
                <div class="next col-xs-6">
                                            <a href="https://sandrokeil.github.io/interop-config/reference/examples.html">Next</a>                                    </div>
            </div>
        </div>
    </div>
    <div id="copyright">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p>Copyright (c) 2015-2016 <a href="https://sandro-keil.de/" title="I write about topics, advices and trends of web development">Sandro Keil</a> <br/> Powered by <a href="https://github.com/tobiju/bookdown-bootswatch-templates" title="Visit project to generate your own docs">Bookdown Bootswatch Templates</a></p>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/0.6.0/lunr.min.js"></script>
<script src="http://bartaz.github.io/sandbox.js/jquery.highlight.js"></script>
<script src="https://tobiju.github.io/share/prismjs/main.js"></script>
<script src="https://tobiju.github.io/share/prismjs/prism.js"></script>
<script type="text/javascript">

    function Search() {
        this.store = {};
        this.index = lunr(function () {
            this.ref('id');
            this.field('title', {boost: 10});
            this.field('content');
        });
        this.searchResults = $('.js-search-results').addClass('list-search-results');
    }

    Search.prototype = {
        constructor: Search,
        init: function () {
            this.createIndex();
            this.bindEvents();
        },
        createIndex: function () {
            var $this = this;

            $.getJSON("/interop-config/index.json", function (data) {
                $.each(data, function (key, item) {
                    $this.index.add({
                        id: item.id,
                        title: item.title,
                        content: item.content
                    });

                    $this.store[item.id] = {
                        href: item.id,
                        title: item.title,
                        content: item.content
                    }
                });
            });
        },
        bindEvents: function () {
            var $this = this;

            $('html').on('click', {}, $this.close);
            $('.js-search-input, .js-search-results').on('click', {}, $this.click);
            $('.js-search-input').on('focus', {}, $this.focus)
                .on('keyup', {
                    index: $this.index,
                    store: $this.store,
                    searchResults: $this.searchResults,
                    cropText: $this.cropText
                }, $this.search)
                .on('keydown', {
                    'close': $this.close
                }, $this.navigation);
        },
        click: function (event) {
            event.stopPropagation();
        },
        focus: function (event) {
            $(this).data.searchInputWidth = $(this).css('width');
            $(this).animate({
                'width': 600
            }, 500);
        },
        close: function (event) {
            $('.js-search-results').hide();
            $('.js-search-input').animate({
                'width': $(this).data.searchInputWidth
            }, 500);
        },
        search: function (event) {
            if (event.keyCode == 13 || event.keyCode == 38 || event.keyCode == 40) {
                return;
            }
            var query = $(this).val(),
                results = event.data.index.search(query);

            if (!results.length) {
                event.data.searchResults.empty();
                return;
            }

            var resultsList = results.reduce(function (ul, result) {
                var item = event.data.store[result.ref];
                var title = $('<b>').text(item.title);

                var cropText = event.data.cropText(item.content, query);
                if (cropText.length === 0) {
                    cropText = $('<p>').html(item.content.substring(0, 120) + "...");
                }
                var content = content = $('<p>').html(cropText);

                var div = $('<div>')
                    .append(title)
                    .append(content);
                var a = $('<a>').attr('href', item.href)
                    .append(div);
                var li = $('<li>')
                    .append(a);
                ul.append(li);

                return ul;
            }, $('<ul>'));

            event.data.searchResults.html(resultsList);

            $('.js-search-results').show();
            $(".js-search-results li:first-child").addClass('selected');
        },
        cropText: function (content, query) {
            var cropedText = '';
            var re = new RegExp("\\s?(.{0,30})?" + query + ".*?\\b(.{0,30}.)?\\s?", "gi");

            $.each(content.match(re), function (key, value) {
                cropedText += '...' + value + '...';
            });

            return cropedText;
        },
        navigation: function (event) {
            var selected = null;
            var listSelector = ".js-search-results ul";
            var listItemSelector = listSelector + " li";
            var selectedListItemSelector = listItemSelector + ".selected";
            var selectedListItemSelectorAnchor = listItemSelector + ".selected a";

            // enter
            if (event.keyCode == 13) {
                event.preventDefault();
                event.data.close();
                window.location.replace($(selectedListItemSelectorAnchor).attr('href'));
            }

            // up
            if (event.keyCode == 38) {
                selected = $(selectedListItemSelector);
                $(listItemSelector).removeClass("selected");

                if (selected.prev().length == 0) {
                    selected.siblings().last().addClass("selected").focus();
                } else {
                    selected.prev().addClass("selected").focus();
                }
                $(listSelector).scrollTop($(selectedListItemSelector).position().top);
            }

            // down
            if (event.keyCode == 40) {
                selected = $(selectedListItemSelector);
                $(listItemSelector).removeClass("selected");

                if (selected.next().length == 0) {
                    selected.siblings().first().addClass("selected").focus();
                } else {
                    selected.next().addClass("selected").focus();
                }
                $(listSelector).scrollTop($(selectedListItemSelector).position().top);
            }
        }
    };

    $(function () {
        var search = new Search();
        search.init();
    });
</script>
</body>
</html>
